import Button from "../components/Button";
import Head from "next/head";
import Link from "next/link";

import api from '../service/api';
import React, { useState, useEffect } from 'react';
export default function Clients() {

    const [clients, setClients] = useState('');

    useEffect(() => {
      api.get('clients').then(res => {
        setClients(res.data);
      })
    }, []);
    
    return (
        <div>
            <Head>
                <title>Clients</title>
                <meta
                    name="description"
                    content="Generated by create next app"
                />
                <link rel="icon" href="/favicon.ico" />
            </Head>
            <main>
                <Link href="/admin">
                    <Button text="Admin" variant="primary" />
                </Link>
                <Link href="/categories">
                    <Button text="Categories" variant="primary" />
                </Link>
                <Link href="/clients">
                    <Button text="Clients" variant="primaryOutlined" />
                </Link>
                <Link href="/download">
                    <Button text="Download" variant="primary" />
                </Link>
                <Link href="/home">
                    <Button text="Home" variant="primary" />
                </Link>
                <Link href="/login">
                    <Button text="Login" variant="primary" />
                </Link>
                <Link href="/profile">
                    <Button text="Profile" variant="primary" />
                </Link>
                <Link href="/register">
                    <Button text="Register" variant="primary" />
                </Link>
                <Link href="/resume">
                    <Button text="Resume" variant="primary" />
                </Link>
                <Link href="/users">
                    <Button text="Users" variant="primary" />
                </Link>
                <section>
                    <div>
                        {clients && 
                            clients.map((client) =>
                                <>
                                    <div>
                                        {client.id}
                                    </div>
                                    <div>
                                        {client.user_id}
                                    </div>
                                    <div>
                                        {client.name}
                                    </div>
                                    <div>
                                        {client.gender}
                                    </div>
                                    <div>
                                        {client.wage_date}
                                    </div>
                                    <div>
                                        {client.wage_value}
                                    </div>
                                </>
                            )}
                    </div>
                </section>
            </main>
            
        </div>
    )
}